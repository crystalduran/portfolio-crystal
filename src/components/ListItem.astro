---
import type { ImageMetadata } from 'astro';
import { Image } from 'astro:assets';

interface Props {
    content: string;
    imagePath: string; 
    alt: string; 
}

// Access received props
const { content, imagePath, alt } = Astro.props;

// import.meta.glob returns an object with all the image paths within the src/assets directory that match the specified extensions
const images = import.meta.glob<{ default: ImageMetadata }>('/src/assets/*.{jpeg,jpg,png,gif}');

// Check if the specified image exists and throw an error if an invalid file path is passed as a prop
if (!images[imagePath]) throw new Error(`"${imagePath}" does not exist in glob: "src/assets/*.{jpeg,jpg,png,gif}"`);
---

<li class="flex items-start mb-4">
    <!-- Bullet as SVG -->
    <svg
        class="w-4 h-4 mr-4 mt-2 basis-1/12"
        fill="black"
        viewBox="0 0 20 20"
        xmlns="http://www.w3.org/2000/svg"
    >
        <circle cx="10" cy="10" r="8"></circle>
    </svg>
    <!-- Item content -->
    <p class="basis-3/4">
        {content}
    </p>
    <div class="ml-5 flex items-center justify-center basis-2/12">
        <Image src={images[imagePath]()} alt={alt} width="40" height="40" class="rounded object-cover" />
    </div>
</li>
